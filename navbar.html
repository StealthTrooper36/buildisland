<!DOCTYPE html>
<html>
<head>
    <title>Roblox Build Island News Navigation Bar</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <a class="nav-link" href="https://stealthtrooper36.github.io/buildisland/index.html">Home</a>
        <a class="nav-link" href="https://stealthtrooper36.github.io/buildisland/about">About</a>
        <a class="nav-link" href="https://github.com/StealthTrooper36/buildisland">Source Code</a>
        <a class="nav-link" href="https://stealthtrooper36.github.io/buildisland/discord">Discord</a>
        <a class="nav-link" href="https://stealthtrooper36.github.io/buildisland/articles">All Pages</a>
        <input type="text" id="search" placeholder="Search..." oninput="searchFunction()">
        <ul id="search-results" style="display: none;"></ul>
    </nav>
    
    <script>
      async function searchFunction() {
        const query = document.getElementById("search").value.toLowerCase();
        const resultsContainer = document.getElementById("search-results");
        resultsContainer.innerHTML = ""; // Clear previous results
    
        // Hide results container if the query is too short
        if (query.length < 2) {
          resultsContainer.style.display = "none";
          return;
        }
    
        // Fetch the search index (search.json)
        try {
          const response = await fetch('/search.json');
          const data = await response.json();
    
          // Filter the results
          const results = data.filter(item =>
            item.title.toLowerCase().includes(query) ||
            item.description.toLowerCase().includes(query)
          );
    
          // Display the results
          if (results.length === 0) {
            resultsContainer.innerHTML = "<li>No results found</li>";
          } else {
            results.forEach(result => {
              const resultItem = document.createElement("li");
              resultItem.innerHTML = `<a href="${result.url}" target="_blank">${result.title}</a>`;
              resultsContainer.appendChild(resultItem);
            });
          }
          resultsContainer.style.display = "block";
        } catch (error) {
          console.error("Error loading search index:", error);
        }
      }
    </script>
    
</body>
</html>
